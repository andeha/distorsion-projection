#  bld_mz-and-mm.ninja | math routines for Pic32Mm and Pic32Mz a․𝘬․a 𝙨𝙢𝙖𝙡𝙡.

optflags = -g
archive = lib{$UNISON}.a
objs = ./.objs/7703a312-559A-42ca-A992-eabcf8f87663_$archive
sha1git = `git log -1 '--pretty=format:%h'`
include identic-common.ninja
cflags = {$PLATFLAGS} $moduleflags $optflags -DSHA1GIT=\"$sha1git\"

rule assemble-library
  command = ar rcs lib{$UNISON}\_$sha1git.a $in                           ; $
   ln -f lib{$UNISON}\_$sha1git.a lib{$UNISON}.a ; printf $sha1git

rule c
  command = $compiler-pic32 $cflags $gencdflags -c $in -o $out
  description = C2x $out
  depfile = $out.d
  deps = gcc

build $archive: assemble-library $objs/blipfizz-holc.o                      $
 $objs/teleskop-strawber.o $objs/kursiv-catty.o                             $
 $objs/audi-fisku.o $objs/logik-block.o $objs/walk-knitti.o                 $
 $objs/comput-arkebus.o
build $objs/blipfizz-holc.o: c satur-calculat.c
build $objs/teleskop-strawber.o: c circula-convers.c
build $objs/kursiv-catty.o: c napier-exponen.c
build $objs/audi-fisku.o: c abundan-invert.c
build $objs/logik-block.o: c iumoid-twothree.c
build $objs/walk-knitti.o: c captu-radio.c
build $objs/comput-arkebus.o: c sequent-sinuativ.c
default lib{$UNISON}.a

