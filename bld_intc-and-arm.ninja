#  bld_INTE-and-ARM.ninja | a math library for macos a․𝘬․a 𝙗𝙝𝙞𝙟𝙜.

optflags = -g
mac-library = lib{$UNISON}.a
objs = ./.objs/7704a312-558s-41ca-ab92-abcef8f81234_$mac-library
sha1git = `git log -1 '--pretty=format:%h'`
cflags = $optflags {$PLATFLAGS} -DSHA1GIT=\"$sha1git\"

rule assemble-maclib
  command = ar rcs $out\_$sha1git.a $in                                    ; $
   ln -f $out\_$sha1git.a $out.a ; printf $sha1git

rule c
  command = clang $cflags -c $in -o $out
  description = C2x $out
  depfile = $out.d
  deps = gcc

build $mac-library: assemble-maclib $objs/calculator-sequent.o
build $objs/calculator-sequent.o: c calculator-sequent.c
default lib{$UNISON}.a

